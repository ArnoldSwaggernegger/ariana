<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title></title>
    <script src="gl-matrix.js"></script>
    <script src="render-helper.js"></script>
    <script src="layer.js"></script>
    <script src="image-layer.js"></script>
    <script src="image-shader-program.js"></script>
    <script>
        function start() {
            createGLContext("glcanvas");
            var image = new Image();
            image.src = "image.jpg";
            image.onload = function() {
                var imageLayer = new ImageLayer(image);
                imageLayer.setScale(.5,.5);
                imageLayer.setRotation(1.);
                imageLayer.setPos(0,0.5);
                imageLayer.setupRender();
                imageLayer.render();
            }
        }
    </script>
    <script id="image-shader-fs" type="x-shader/x-fragment">
        varying highp vec2 v_texCoord;

        uniform sampler2D u_sampler;

        void main(void) {
            gl_FragColor = texture2D(u_sampler, v_texCoord);
        }
    </script>
    <script id="image-shader-vs" type="x-shader/x-vertex">
    attribute vec2 a_position;
    attribute vec2 a_texCoord;

    varying highp vec2 v_texCoord;

    uniform mat3 u_matrix;

    void main(void) {
      gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);
      v_texCoord = a_texCoord;
    }
    </script>
</head>

<body onload="start()">
<div id="canvas">
    <canvas id="glcanvas" width="640" height="640">
        Your browser doesn't appear to support the HTML5 <code>&lt;canvas&gt;</code> element.
    </canvas>
</div>
<div id="filters"></div>
<div id="layers"></div>
</body>
</html>
